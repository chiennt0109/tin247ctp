<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>K·∫øt qu·∫£ ch·∫•m b√†i</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <style>
        body { background-color: #fafafa; padding: 40px; }
        .verdict-accepted { color: green; font-weight: bold; }
        .verdict-wrong { color: red; font-weight: bold; }
        pre { background-color: #f0f0f0; padding: 10px; border-radius: 6px; }
    </style>
</head>
<body>
<div class="container">

    {% if result %}
    <div class="card shadow-sm p-4 mb-3">
        <h3>üß© K·∫øt qu·∫£ ch·∫•m b√†i</h3>
        <p><strong>B√†i:</strong> {{ problem.title }}</p>
        <p><strong>Ng√¥n ng·ªØ:</strong> {{ result.language|upper }}</p>
        <p><strong>Verdict:</strong>
            {% if result.verdict == "Accepted" %}
                <span class="verdict-accepted">‚úÖ {{ result.verdict }}</span>
            {% else %}
                <span class="verdict-wrong">‚ùå {{ result.verdict }}</span>
            {% endif %}
        </p>
        <p><strong>Th·ªùi gian ch·∫°y:</strong> {{ result.exec_time|floatformat:2 }} gi√¢y</p>

        {% if passed is not None %}
        <p><strong>Test Passed:</strong> {{ passed }} / {{ passed|add:failed }}</p>
        {% endif %}

        <a href="/problems/" class="btn btn-secondary mt-3">‚¨ÖÔ∏è Quay l·∫°i danh s√°ch b√†i</a>
    </div>

    {% elif subs %}
    <div class="card shadow-sm p-4">
        <h3>üìú L·ªãch s·ª≠ n·ªôp b√†i c·ªßa b·∫°n</h3>
        <table class="table mt-3 table-striped">
            <thead>
                <tr>
                    <th>#</th>
                    <th>B√†i</th>
                    <th>Ng√¥n ng·ªØ</th>
                    <th>K·∫øt qu·∫£</th>
                    <th>Th·ªùi gian</th>
                    <th>Ng√†y</th>
                </tr>
            </thead>
            <tbody>
            {% for s in subs %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ s.problem.title }}</td>
                    <td>{{ s.language|upper }}</td>
                    <td>
                        {% if s.verdict == "Accepted" %}
                            <span class="verdict-accepted">‚úÖ Accepted</span>
                        {% else %}
                            <span class="verdict-wrong">{{ s.verdict }}</span>
                        {% endif %}
                    </td>
                    <td>{{ s.exec_time|floatformat:2 }}s</td>
                    <td>{{ s.created_at|date:"H:i d/m/Y" }}</td>
                </tr>
            {% empty %}
                <tr><td colspan="6" class="text-center">Ch∆∞a c√≥ b√†i n·ªôp n√†o.</td></tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    {% else %}
    <div class="alert alert-info">Kh√¥ng c√≥ d·ªØ li·ªáu ƒë·ªÉ hi·ªÉn th·ªã.</div>
    {% endif %}

</div>
</body>
</html>
