{% extends "base.html" %}
{% block content %}
<div class="container py-4">
  <h3 class="fw-bold mb-4">ğŸ† Danh sÃ¡ch cuá»™c thi</h3>

  <div class="table-responsive">
    <table class="table table-hover align-middle border rounded-3 shadow-sm">
      <thead class="table-light">
        <tr>
          <th>TÃªn cuá»™c thi</th>
          <th>Tráº¡ng thÃ¡i</th>
          <th>Báº¯t Ä‘áº§u</th>
          <th>Káº¿t thÃºc</th>
          <th>Thá»i lÆ°á»£ng</th>
          <th class="text-center">Thao tÃ¡c</th>
        </tr>
      </thead>
      <tbody>
        {% for c in contests %}
        <tr>
          <td class="fw-semibold">
            <a class="cf-title" href="{% url 'contests:contest_detail' c.id %}">
                {{ c.title }}
            </a>
          </td>
          <td>
            {% if c.status == "upcoming" %}
              <span class="badge bg-info text-white">Sáº¯p diá»…n ra</span>
            {% elif c.status == "running" %}
              <span class="badge bg-success text-white">Äang diá»…n ra</span>
            {% else %}
              <span class="badge bg-secondary text-white">ÄÃ£ káº¿t thÃºc</span>
            {% endif %}
          </td>
          <td>{{ c.start_time|date:"d/m/Y H:i" }}</td>
          <td>{{ c.end_time|date:"d/m/Y H:i" }}</td>
          <td>{{ c.duration }}</td>
          <td class="text-center">
            {% if c.status == "running" %}
              <a href="{% url 'contests:contest_detail' c.id %}" class="btn btn-success btn-sm rounded-pill">
                ğŸš€ Báº¯t Ä‘áº§u ngay
              </a>
            {% elif c.status == "upcoming" %}
              <button class="btn btn-outline-secondary btn-sm rounded-pill" disabled>
                â³ ChÆ°a báº¯t Ä‘áº§u
              </button>
            {% else %}
              <a href="{% url 'contests:contest_detail' c.id %}" class="btn btn-outline-primary btn-sm rounded-pill">
                ğŸ Xem káº¿t quáº£
              </a>
            {% endif %}
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="6" class="text-center text-muted py-4">â— ChÆ°a cÃ³ contest nÃ o</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<style>
.table-hover tbody tr:hover { background-color: #f8fafc !important; }
.badge { font-size: 0.85rem; }
.btn-sm { font-size: 0.85rem; }
</style>
{% endblock %}
