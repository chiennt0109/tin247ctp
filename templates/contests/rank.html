{% extends "base.html" %}
{% block content %}
<div class="container py-4">
  <h3 class="fw-bold mb-4">üèÖ B·∫£ng x·∫øp h·∫°ng cu·ªôc thi: {{ contest.name }}</h3>

  {% if rankings %}
  <div class="table-responsive">
    <table class="table table-bordered align-middle text-center shadow-sm rounded-4">
      <thead class="table-light">
        <tr>
          <th>H·∫°ng</th>
          <th>Ng∆∞·ªùi d√πng</th>
          <th>ƒêi·ªÉm</th>
          <th>Ph·∫°t</th>
          <th>Th·ªùi gian n·ªôp cu·ªëi</th>
        </tr>
      </thead>
      <tbody>
        {% for part in rankings %}
        <tr class="{% if forloop.first %}table-warning{% endif %}">
          <td>{{ forloop.counter }}</td>
          <td>{{ part.user.username }}</td>
          <td class="fw-semibold text-success">{{ part.score }}</td>
          <td class="text-danger">{{ part.penalty }}</td>
          <td>{{ part.last_submit|date:"d/m/Y H:i" }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
    <p class="text-center text-muted py-4">‚ùó Ch∆∞a c√≥ ai n·ªôp b√†i trong cu·ªôc thi n√†y.</p>
  {% endif %}

  <div class="text-center mt-4">
    <!-- ‚úÖ S·ª≠a l·∫°i namespace cho ƒë√∫ng -->
    <a href="{% url 'contests:contest_detail' contest.id %}" class="btn btn-outline-secondary rounded-pill me-2">
      ‚¨Ö Quay l·∫°i contest
    </a>
    <a href="{% url 'problems:problem_list' %}" class="btn btn-outline-primary rounded-pill">
      üîç Xem danh s√°ch b√†i t·∫≠p
    </a>
  </div>
</div>

<style>
.table th, .table td { vertical-align: middle; }
.table-warning td { font-weight: 600; }
</style>
{% endblock %}
