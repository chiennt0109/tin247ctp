{% extends "base.html" %}
{% block content %}
<div class="container py-4">
  <div class="card border-0 shadow-sm rounded-4 p-4 mb-4">
    <h3 class="fw-bold mb-1">{{ contest.name }}</h3>
    <p class="text-muted mb-2">
      ğŸ•’ <b>Báº¯t Ä‘áº§u:</b> {{ contest.start_time|date:"d/m/Y H:i" }}<br>
      â³ <b>Káº¿t thÃºc:</b> {{ contest.end_time|date:"d/m/Y H:i" }}<br>
      ğŸ“˜ <b>Sá»‘ bÃ i:</b> {{ problems|length }}
    </p>
    {% if contest.description %}
      <div class="border-top pt-3">{{ contest.description|safe }}</div>
    {% endif %}
  </div>

  {% if problems %}
  <div class="card border-0 shadow-sm rounded-4">
    <div class="card-header bg-light fw-bold">ğŸ“š Danh sÃ¡ch bÃ i trong cuá»™c thi</div>
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th style="width:80px;">MÃ£</th>
            <th>TÃªn bÃ i</th>
            <th>Äá»™ khÃ³</th>
            <th class="text-center">Thao tÃ¡c</th>
          </tr>
        </thead>
        <tbody>
          {% for p in problems %}
          <tr>
            <td class="fw-semibold text-primary">{{ p.code }}</td>
            <td>{{ p.title }}</td>
            <td>
              {% if p.difficulty == "Easy" %}
                <span class="badge bg-success">Easy</span>
              {% elif p.difficulty == "Medium" %}
                <span class="badge bg-warning text-dark">Medium</span>
              {% else %}
                <span class="badge bg-danger">Hard</span>
              {% endif %}
            </td>
            <td class="text-center">
              <a href="{% url 'problem_detail' p.id %}?contest_id={{ contest.id }}">              
                LÃ m bÃ i ğŸš€
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  {% else %}
    <p class="text-muted text-center">â— Cuá»™c thi nÃ y chÆ°a cÃ³ bÃ i nÃ o Ä‘Æ°á»£c thÃªm.</p>
  {% endif %}
</div>
<div class="d-flex justify-content-between mt-3">
  <a href="{% url 'contest_list' %}" class="btn btn-outline-secondary rounded-pill">
    â† Danh sÃ¡ch contest
  </a>
  <a href="{% url 'contest_rank' contest.id %}" class="btn btn-outline-success rounded-pill">
    ğŸ… Báº£ng xáº¿p háº¡ng
  </a>
</div>

<style>
.table-hover tbody tr:hover { background-color:#f8fafc !important; }
.badge { font-size:0.85rem; }
</style>
{% endblock %}
