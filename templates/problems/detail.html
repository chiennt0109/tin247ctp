{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="container mt-4">
  <div class="card shadow-sm p-4 mb-4">
    <h2 class="mb-3">{{ problem.title }}</h2>
    <p><strong>MÃ£ bÃ i:</strong> {{ problem.code }}</p>
    <p><strong>Äá»™ khÃ³:</strong> {{ problem.difficulty }}</p>
    <p><strong>Giá»›i háº¡n:</strong> {{ problem.time_limit }}s Â· {{ problem.memory_limit }}MB</p>

    <!-- âœ… Pháº§n Ä‘á» bÃ i -->
    <hr>
    <div class="problem-statement" style="margin-top:10px; line-height:1.7;">
      {{ problem.statement|safe }}
    </div>

    <!-- âœ… NÃºt ná»™p bÃ i -->
    <div class="text-center mt-4 mb-2">
      <a href="{% url 'submission_create' problem.id %}" class="btn btn-success btn-lg">
        ğŸš€ Ná»™p bÃ i
      </a>
    </div>
  </div>

  <!-- âœ… VÃ­ dá»¥ máº«u -->
  {% if problem.sample_input or problem.sample_output %}
  <div class="card shadow-sm p-3 mb-4">
    <h4>ğŸ§ª VÃ­ dá»¥ máº«u</h4>
    <div class="row">
      <div class="col-md-6">
        <h6>ğŸ“¥ Input:</h6>
        <pre class="bg-light p-2 rounded">{{ problem.sample_input }}</pre>
      </div>
      <div class="col-md-6">
        <h6>ğŸ“¤ Output:</h6>
        <pre class="bg-light p-2 rounded">{{ problem.sample_output }}</pre>
      </div>
    </div>
  </div>
  {% endif %}

  <!-- âœ… Gá»£i Ã½ AI (tÃ¹y chá»n, khÃ´ng gÃ¢y lá»—i náº¿u chÆ°a báº­t) -->
  <div class="card shadow-sm p-3">
    <h5>ğŸ§  Trá»£ lÃ½ há»c táº­p</h5>
    <p class="text-muted small mb-2">
      CÃ´ng cá»¥ AI giÃºp báº¡n hiá»ƒu vÃ  tiáº¿p cáº­n bÃ i toÃ¡n dá»… hÆ¡n.
    </p>
    <a href="#" class="btn btn-outline-primary btn-sm disabled">ğŸ’¡ Gá»£i Ã½ (Ä‘ang phÃ¡t triá»ƒn)</a>
  </div>
</div>

<!-- âœ… KaTeX render cho cÃ´ng thá»©c toÃ¡n -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false }
      ]
    });
  });
</script>
{% endblock %}
