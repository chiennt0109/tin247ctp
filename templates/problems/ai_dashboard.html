{% extends "base.html" %}
{% block content %}
<div class="container" style="max-width:900px;margin:0 auto;">
  <h2>ğŸ“Š AI Learning Dashboard</h2>
  <p>ChÃ o {{ user.username }}! ÄÃ¢y lÃ  lá»™ trÃ¬nh há»c mÃ  há»‡ thá»‘ng Ä‘á» xuáº¥t miá»…n phÃ­.</p>

  <button id="loadPathBtn"
          style="background:#1976d2;color:#fff;padding:10px 14px;
                 border:none;border-radius:6px;cursor:pointer;">
    ğŸš€ Xem lá»™ trÃ¬nh há»c
  </button>

  <div id="pathResult"
       style="margin-top:20px;background:#fafafa;border:1px solid #ddd;
              padding:15px;border-radius:8px;white-space:pre-wrap;"></div>
</div>

<script>
document.getElementById('loadPathBtn').addEventListener('click', async () => {
  const res = await fetch('/problems/ai_learning_path/');
  const data = await res.json();
  const out = document.getElementById('pathResult');
  if (data.error) {
    out.innerHTML = 'âš ï¸ ' + data.error;
  } else {
    out.innerHTML = `<b>${data.summary}</b><br><br>` +
      data.recommendations.map(x => 'â€¢ ' + x).join('<br>');
  }
});
</script>
{% endblock %}
